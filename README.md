# 一键去除Wi-FI x和!号模块

## 为什么Wi-FI会有x和!号

> Captive Portal是安卓5引入的一种检测网络是否正常连接的机制，制作的非常有创意，通过HTTP返回的状态码是否是204来判断是否成功，如果访问得到了200带网页数据，那你就可能处在一个需要登录验证才能上网的环境里，比如说校园网，再比如说一些酒店提供的客户才能免费使用的WiFi（其实是通过DNS劫持实现的），如果连接超时（根本就连接不上）就在WiFi图标和信号图标上加一个标志，安卓5和6是叹号，安卓7改成一个叉了。只不过默认访问的是谷歌自家的验证服务器，然而由于你懂的原因，就算你连接上了网络也连不上这个服务器... 嗯...那其实还是没有连接上网络嘛... 噫....

具体可以看[https://www.evil42.com/index.php/archives/17/](https://www.evil42.com/index.php/archives/17/)

## 怎么解决这个问题

> 谷歌设计了一个开关来控制是否启用这个特性，同时也提供了一个变量来控制待验证的服务器地址，国内的修改版ROM通常都改成了高通中国的地址。

还是参考上面那篇文章，通过ADB SHELL可以修改验证服务器地址，经过多次测试，发现国内MIUI服务器是最快，也是最稳定的，所以把验证服务器改为MIUI提供的验证服务器就可以了。

## 如何使用这个模块

1. 下载[秋之盒](https://www.atmb.top)
2. 在可以正确使用秋之盒的情况下，下载并安装[此模块](https://www.atmb.top/extension/extension.html?j=/_data_/extensions/captiveportal.json)
3. 连接手机，运行此模块，等待结果

- 如果使用过程中有任何疑问，欢迎提Issue讨论